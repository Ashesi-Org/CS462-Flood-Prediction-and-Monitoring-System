digraph DetailedProjectArchitecture {
    // General Graph Settings
    rankdir=LR;
    splines=ortho;
    fontname="Arial";
    node [shape=rectangle, style=filled, fontname="Arial", fontsize=12];

    // Data Sources
    subgraph cluster_data_sources {
        label="Data Sources ðŸ“¡";
        style=filled;
        color="#D6EAF8"; // Light blue-gray
        API1 [label="ðŸŒ¦ï¸ Weather API", color="#85C1E9", fontcolor="#1F618D"];
        API2 [label="ðŸŒŠ Historical Flood Data API", color="#85C1E9", fontcolor="#1F618D"];
        Sensor [label="ðŸ“Ÿ Environmental Sensors", color="#85C1E9", fontcolor="#1F618D"];
        WebScraper [label="ðŸŒ Web Scraper for News Feeds", color="#85C1E9", fontcolor="#1F618D"];
    }

    // ETL Process
    subgraph cluster_etl {
        label="ETL Pipeline ðŸ› ï¸";
        style=filled;
        color="#FAD7A0"; // Light orange
        Extract [label="ðŸ“¥ Data Extraction", color="#F7C6A4", fontcolor="#7B5E57"];
        Transform [label="ðŸ”„ Data Transformation", color="#F7C6A4", fontcolor="#7B5E57"];
        Load [label="ðŸ“¤ Data Loading to DB", color="#F7C6A4", fontcolor="#7B5E57"];
    }

    // Databases
    subgraph cluster_databases {
        label="Data Storage ðŸ’¾";
        style=filled;
        color="#D5DBDB"; // Light gray
        RawDB [label="ðŸ“‚ Raw Data Storage", color="#AAB7B8", fontcolor="#4D5656"];
        TransformedDB [label="ðŸ“Š Transformed Data Warehouse", color="#AAB7B8", fontcolor="#4D5656"];
        Cache [label="âš¡ Redis Cache Layer", color="#AAB7B8", fontcolor="#4D5656"];
    }

    // Data Processing and Analytics
    subgraph cluster_analytics {
        label="Analytics & Processing ðŸ”";
        style=filled;
        color="#D4E6F1"; // Light blue
        Preprocess [label="ðŸ§ª Data Preprocessing", color="#AED6F1", fontcolor="#1A5276"];
        FeatureEng [label="ðŸ“ Feature Engineering", color="#AED6F1", fontcolor="#1A5276"];
        ModelTraining [label="ðŸ‹ï¸ Model Training", color="#AED6F1", fontcolor="#1A5276"];
        RealTimeInference [label="âš™ï¸ Real-time Inference Engine", color="#AED6F1", fontcolor="#1A5276"];
    }

    // Machine Learning Models
    subgraph cluster_ml {
        label="Machine Learning Models ðŸ¤–";
        style=filled;
        color="#E8DAEF"; // Light purple
        Model1 [label="ðŸŒŠ Flood Prediction Model", color="#D2B4DE", fontcolor="#6C3483"];
        Model2 [label="ðŸš¨ Anomaly Detection Model", color="#D2B4DE", fontcolor="#6C3483"];
        Model3 [label="ðŸ“‰ Impact Assessment Model", color="#D2B4DE", fontcolor="#6C3483"];
    }

    // Visualization and Reporting
    subgraph cluster_visualization {
        label="Visualization & Reporting ðŸ“Š";
        style=filled;
        color="#FCF3CF"; // Light yellow
        Dashboard [label="ðŸ“‹ User Dashboard", color="#F9E79F", fontcolor="#7D6608"];
        Reporting [label="ðŸ“ Reporting Tools", color="#F9E79F", fontcolor="#7D6608"];
        Alerts [label="ðŸ”” Alert & Notification System", color="#F9E79F", fontcolor="#7D6608"];
    }

    // Connections
    // Data Sources to ETL
    API1 -> Extract;
    API2 -> Extract;
    Sensor -> Extract;
    WebScraper -> Extract;

    // ETL to Databases
    Extract -> Transform;
    Transform -> Load;
    Load -> RawDB;
    Transform -> TransformedDB;

    // Databases to Analytics
    TransformedDB -> Preprocess;
    Cache -> RealTimeInference;
    Preprocess -> FeatureEng;
    FeatureEng -> ModelTraining;
    FeatureEng -> RealTimeInference;

    // Analytics to ML Models
    ModelTraining -> Model1;
    ModelTraining -> Model2;
    ModelTraining -> Model3;
    RealTimeInference -> Model1;
    RealTimeInference -> Model2;

    // ML Models to Visualization
    Model1 -> Dashboard;
    Model2 -> Reporting;
    Model3 -> Alerts;
    Dashboard -> Alerts;
    Reporting -> Dashboard;
}
